{% extends 'deckbuilder/base.html' %}

{% block head %}
<title>Deckbuilder</title>
<script src="http://code.jquery.com/jquery-1.10.2.min.js"></script>
<a href="/">&lt; back</a>
<div align="center">
	<h1>Deckbuilder</h1>
</div>
{% endblock %}

{% block body %}
<div class="container">
	<!-- Div for all the user interactions with this page -->
	<div class="forms">
		<h2>Available decks:</h2>
		{{ decks }}
		<h1>Control panel</h1>

		<form method="POST">
			<!-- Creating a new deck -->
			<h2>New Deck</h2>
	    	<input type="text" name="deckName">
	    	<button type="submit" class="btn btn-default">Create</button>
	    </form>

	    <form method="POST">
	    	<!-- Select a deck to view -->
	    	<h2>Select Deck</h2>
			<select id="selectDeck" name="selectDeck" class="selectpicker form-control">
				{% for item in decks %}
				<option value="{{ item }}">{{ item }}</option>
				{% endfor %}
			</select>
			<script>
				var lastVal = $('#selectDeck option:last').val();
				$('#selectDeck').val(lastVal);
			</script>
			<button type="submit" class="btn btn-default">Select</button>

			<!-- Add card to selected deck -->
			<h2>Add Cards</h2>
	    	<input type="text" name="cardID">
	    	<button type="submit" class="btn btn-default">Add</button>

	    	<!-- Increment / decrement selected decks wins -->
	    	<h2>Change Wins</h2>
	    	<input type="text" name="wins">
	    	<button type="submit" class="btn btn-default">Update</button>

	    	<!-- Increment / decrement selected deck losses -->
	    	<h2>Change Losses</h2>
	    	<input type="text" name="losses">
	    	<button type="submit" class="btn btn-default">Update</button>
	    </form>

	    <form method="POST">
	    	<!-- Delete a deck -->
	    	<h2>Delete Deck</h2>
			<select id="deleteDeck" name="deleteDeck" class="selectpicker form-control">
				{% for item in decks %}
				<option value="{{ item }}">{{ item }}</option>
				{% endfor %}
			</select>
			<script>
				var lastVal = $('#deleteDeck option:last').val();
				$('#deleteDeck').val(lastVal);
			</script>
			<button type="submit" class="btn btn-default">Delete</button>
		</form>

	</div>

	<!-- Div for displaying all data about cards -->
	<div class="tables">
		<div class="cards">
			<h1>All cards</h1>
			{{ cardList | safe }}
		</div>
		<div class="deck">
			<h1>Current deck: {{ deckName }}</h1>
			{{ activeDeck | safe }}
		</div>
	</div>

</div>
{% endblock %}